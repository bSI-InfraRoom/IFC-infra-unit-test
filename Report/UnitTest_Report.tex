\documentclass{scrartcl}

\usepackage[utf8]{inputenc}

\usepackage{amsmath}
\usepackage{babel}

\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows.meta,calc,decorations.markings,arrows,positioning,fit,intersections,patterns,scopes,datavisualization,backgrounds}
\usetikzlibrary{shapes.geometric,decorations.pathreplacing,shadings,decorations.text}

\usepackage{hyperref}
\usepackage[footnotes,definitionLists,smartEllipses,hybrid,pipeTables=true,shiftHeadings=1,tableCaptions=true]{markdown}
\usepackage[edges]{forest}

\usepackage{cleveref}

\title{Appendix A: Unit Test Documentation}
\author{InfraRoom: IFC Infrastructure Extension Deployment project}
\date{document automatically generated on: \today}

\setkeys{Gin}{width=\linewidth}

\usepackage{tabularx}

\makeatletter
\def\markdownLaTeXReadAlignments#1{%
\advance\markdownLaTeXColumnCounter by 1\relax%
\if#1d%
\addto@hook\markdownLaTeXTableAlignment{p{0.5\textwidth}}%
\else%
\addto@hook\markdownLaTeXTableAlignment{#1}%
\fi\ifnum\markdownLaTeXColumnCounter<\markdownLaTeXColumnTotal\relax\else\expandafter\@gobble%
\fi\markdownLaTeXReadAlignments%
}
\makeatother

\begin{document}

\maketitle

\section{Summary}
\label{sec:summary}

This is a summary document of all approved unit tests during the IFC Infrastructure Extensions Deployment project.

This document has been automatically produced from the \texttt{readme} files of individual unit tests.
The originating documentation together with all mentioned files can be obtained
 from the project's official GitHub repository\footnote{\url{https://github.com/bSI-InfraRoom/IFC-infra-unit-test}}.

\section{Schematics}
\label{sec:schematics}

The following figure represents the dependencies between the individual unit tests.
Unit tests are represented as boxes, while the arrows point from the dependant to the independent unit test.
Each unit test has a link to the corresponding section of this document in the upper right corner.

\tikzset{every label/.style={xshift=1ex, text width=10ex, align=left, 
                             inner sep=1pt, font=\footnotesize}}
  \begin{forest}
    for tree={              % style of tree nodes
      font=\footnotesize,
      draw, semithick, rounded corners,
            align = center,
        inner sep = 2mm,
                            % style of tree (edges, distances, direction)
             edge = {draw, semithick, latex'-},
    parent anchor = east,
     child anchor = west,
             grow = south,
    forked edge,            % for forked edge
            l sep = 12mm,   % level distance
         fork sep = 6mm,    % distance from parent to branching point
                }
    [Setup-1,name=boiler1,label=\labelcref{sec:project_setup_1}
      [Setup-2,name=boiler2,label=\labelcref{sec:project_setup_2}],
      [TIN-1,name=tin1,label=\labelcref{sec:tin_1}
        [GeoRef-1,name=georef1,label=\labelcref{sec:georeferencing_1}] {
          \draw[-latex'] () to[out=north east,in=south east] (boiler1);
        }
      ]
    ]  
  \end{forest}
\clearpage


\section{Project Setup 1}
\label{sec:project_setup_1}
\markdownInput{../ProjectSetup-1/readme.md}
\clearpage

\section{Project Setup 2}
\label{sec:project_setup_2}
%\markdownInput{../ProjectSetup-2/readme.md}
\clearpage


\section{TIN 1}
\label{sec:tin_1}
\markdownInput{../Tin-1/readme.md}
\clearpage

\section{Georeferencing 1}
\label{sec:georeferencing_1}
\markdownInput{../Georeferencing-1/readme.md}
\clearpage



\section{Spatial Structure 1}
\label{sec:spatial_1}
%\markdownInput{../SpatialStructure-1/readme.md}
\clearpage

\section{Spatial Structure 2}
\label{sec:spatial_2}
%\markdownInput{../SpatialStructure-2/readme.md}
\clearpage

\section{Spatial Structure 3}
\label{sec:spatial_3}
%\markdownInput{../SpatialStructure-3/readme.md}
\clearpage

\section{Spatial Structure 4}
\label{sec:spatial_4}
\markdownInput{../SpatialStructure-4/readme.md}
\clearpage


\section{Alignment 1}
\label{sec:alignment_12d_1}
\markdownInput{../Alignment-12d-1/readme.md}
\clearpage

\section{Alignment 2}
\label{sec:alignment_12d_2}
\markdownInput{../Alignment-12d-2/readme.md}
\clearpage



\section{Drainage System 1}
\label{sec:drainage_1}
\markdownInput{../DrainageSystem-1/readme.md}
\clearpage

\section{Drainage System 2}
\label{sec:drainage_2}
\markdownInput{../DrainageSystem-2/readme.md}
\clearpage



\end{document}
